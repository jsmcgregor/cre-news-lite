(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4478:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});var s=t(5155),a=t(2115),l=t(6874),n=t.n(l);function o(e){let{children:r}=e,[t,l]=(0,a.useState)(!1);return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-900",children:[(0,s.jsxs)("nav",{className:"bg-gray-800 border-b border-gray-700",children:[(0,s.jsx)("div",{className:"container mx-auto px-4",children:(0,s.jsxs)("div",{className:"flex justify-between h-16",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(n(),{href:"/",className:"flex-shrink-0 flex items-center",children:(0,s.jsx)("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-500 to-cyan-400 bg-clip-text text-transparent",children:"CRE News Lite"})}),(0,s.jsxs)("div",{className:"hidden md:ml-6 md:flex md:items-center md:space-x-4",children:[(0,s.jsx)(n(),{href:"/",className:"px-3 py-2 rounded-md text-sm font-medium text-gray-300 hover:bg-gray-700 hover:text-white",children:"Home"}),(0,s.jsx)(n(),{href:"/admin",className:"px-3 py-2 rounded-md text-sm font-medium text-gray-300 hover:bg-gray-700 hover:text-white",children:"Admin"})]})]}),(0,s.jsx)("div",{className:"flex items-center md:hidden",children:(0,s.jsxs)("button",{onClick:()=>l(!t),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none","aria-expanded":"false",children:[(0,s.jsx)("span",{className:"sr-only",children:"Open main menu"}),t?(0,s.jsx)("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):(0,s.jsx)("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})})]})}),t&&(0,s.jsx)("div",{className:"md:hidden",children:(0,s.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[(0,s.jsx)(n(),{href:"/",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:bg-gray-700 hover:text-white",onClick:()=>l(!1),children:"Home"}),(0,s.jsx)(n(),{href:"/admin",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:bg-gray-700 hover:text-white",onClick:()=>l(!1),children:"Admin"})]})})]}),(0,s.jsx)("main",{className:"container mx-auto px-4 py-8",children:r}),(0,s.jsx)("footer",{className:"bg-gray-800 border-t border-gray-700",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[(0,s.jsx)("div",{className:"mb-4 md:mb-0",children:(0,s.jsxs)("p",{className:"text-gray-400 text-sm",children:["\xa9 ",new Date().getFullYear()," CRE News Lite | All articles sourced from publicly available information"]})}),(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsx)(n(),{href:"/admin",className:"text-gray-400 hover:text-gray-300 text-sm",children:"Admin"}),(0,s.jsx)(n(),{href:"/",className:"text-gray-400 hover:text-gray-300 text-sm",children:"Home"})]})]})})})]})}},8775:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>m});var s=t(5155),a=t(2115);function l(e){let{article:r}=e,t=r.source.replace("Scraper","");return(0,s.jsx)("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"block h-full group",children:(0,s.jsxs)("div",{className:"h-full bg-gray-800 border border-gray-700 rounded-lg p-5 flex flex-col shadow-md hover:shadow-lg transition-all duration-200 hover:border-cyan-800",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-400",children:t}),(0,s.jsx)("span",{className:"text-xs font-medium py-1 px-2 rounded ".concat((e=>{switch(e){case"National":return"bg-blue-900 text-blue-200";case"Northeast":return"bg-purple-900 text-purple-200";case"Midwest":return"bg-green-900 text-green-200";case"South":return"bg-yellow-900 text-yellow-200";case"West":return"bg-red-900 text-red-200";case"Southwest":return"bg-orange-900 text-orange-200";default:return"bg-gray-700 text-gray-200"}})(r.region)),children:r.region})]}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-200 mb-3 group-hover:text-cyan-400 transition-colors",children:r.title}),(0,s.jsxs)("div",{className:"text-sm text-gray-400 mt-auto flex items-center",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,s.jsx)("span",{children:r.publishedDate})]})]})})}let n=["National","West","Southwest","Midwest","South","Northeast"];function o(e){let{selectedRegion:r,onRegionChange:t}=e,a=n.includes(r)?r:"National";return(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-4",children:[(0,s.jsx)("label",{htmlFor:"region-select",className:"text-gray-300 font-medium mb-2 sm:mb-0",children:"Filter by Region:"}),(0,s.jsx)("select",{id:"region-select",value:a,onChange:e=>t(e.target.value),className:"bg-gray-700 text-white border border-gray-600 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent hover:bg-gray-600 transition-colors",children:n.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]})}class i{async getArticles(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let r=new URLSearchParams;e.page&&r.append("page",e.page.toString()),e.pageSize&&r.append("pageSize",e.pageSize.toString()),e.region&&"All"!==e.region&&r.append("region",e.region),e.source&&r.append("source",e.source);let t=r.toString()?"?".concat(r.toString()):"",s="".concat(this.baseUrl).concat(t);console.log("NewsService: Fetching articles from ".concat(s));let a=0;for(;a<3;)try{a++;let e=await fetch(s,{headers:{Accept:"application/json"},cache:"no-store"});if(!e.ok){let r,t=await e.text();try{r=JSON.parse(t).error||"HTTP error! status: ".concat(e.status)}catch(s){r=t||"HTTP error! status: ".concat(e.status)}throw console.error("NewsService: HTTP error ".concat(e.status,": ").concat(r)),Error(r)}return await e.json()}catch(e){if(console.error("NewsService: Attempt ".concat(a," failed:"),e),a>=3)throw e;await new Promise(e=>setTimeout(e,500*Math.pow(2,a-1)))}throw Error("Failed to fetch articles after multiple attempts")}catch(e){throw console.error("NewsService: Error fetching articles:",e),e}}async getArticleById(e){throw Error("Not implemented yet")}async getSources(){try{let e=(await this.getArticles({pageSize:100})).articles.map(e=>e.source);return[...new Set(e)]}catch(e){return console.error("NewsService: Error fetching sources:",e),[]}}constructor(){this.baseUrl="/api/scrape"}}let c=new i;async function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log("Starting to fetch articles with pagination...");try{return await c.getArticles(e)}catch(r){return console.error("Error fetching articles with pagination:",r),{articles:[],total:0,page:e.page||1,pageSize:e.pageSize||10,totalPages:0}}}var x=t(4478);function m(){let[e,r]=(0,a.useState)([]),[t,n]=(0,a.useState)(!0),[i,c]=(0,a.useState)(!1),[m,h]=(0,a.useState)(""),[g,u]=(0,a.useState)(1),[p]=(0,a.useState)(12),[b,y]=(0,a.useState)(1),[f,j]=(0,a.useState)(0),[w,v]=(0,a.useState)("National"),[N,k]=(0,a.useState)(""),S=(0,a.useCallback)(async()=>{n(!0),c(!1),h("");try{console.log("Page: Fetching articles with params:",{page:g,pageSize:p,region:w,source:N||void 0});let e=await d({page:g,pageSize:p,region:w,source:N||void 0});console.log("Page: Got articles response:",e),r(e.articles),y(e.totalPages),j(e.total),g>e.totalPages&&e.totalPages>0&&u(e.totalPages)}catch(e){console.error("Page: Error fetching articles:",e),c(!0),h(e instanceof Error?e.message:"Failed to load articles"),r([])}finally{console.log("Page: Finished loading"),n(!1)}},[g,p,w,N]);(0,a.useEffect)(()=>{S()},[S,g,w,N]);let L=e=>{v(e),u(1)};if(t)return(0,s.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-500 mb-4"}),(0,s.jsx)("p",{className:"text-lg font-medium text-gray-300",children:"Loading articles..."})]})});let C=e.reduce((e,r)=>{let t=r.region||"Other";return e[t]||(e[t]=[]),e[t].push(r),e},{}),M=["National","West","Southwest","Midwest","South","Northeast"],A=Object.keys(C),E=[...M.filter(e=>A.includes(e)),...A.filter(e=>!M.includes(e)).sort()];return i?(0,s.jsx)("div",{className:"min-h-screen bg-gray-900",children:(0,s.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("header",{className:"mb-8 text-center py-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-500 to-cyan-400 bg-clip-text text-transparent mb-3",children:"CRE News Lite"}),(0,s.jsx)("p",{className:"text-gray-400 text-lg",children:"Latest commercial real estate news from top industry sources"})]}),(0,s.jsx)("div",{className:"flex items-center justify-center py-12 bg-gray-800 rounded-lg shadow-md border border-gray-700 p-8",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-red-400 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,s.jsx)("p",{className:"text-lg text-red-400 font-semibold mb-2",children:"Error loading articles"}),(0,s.jsx)("p",{className:"text-gray-300",children:m}),(0,s.jsx)("button",{className:"mt-6 px-4 py-2 bg-cyan-600 text-white rounded-md hover:bg-cyan-700 transition-colors",onClick:S,children:"Try Again"})]})})]})}):e.length?(0,s.jsxs)(x.A,{children:[(0,s.jsxs)("header",{className:"mb-8 text-center py-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-500 to-cyan-400 bg-clip-text text-transparent mb-3",children:"CRE News Lite"}),(0,s.jsx)("p",{className:"text-gray-400 text-lg",children:"Latest commercial real estate news from top industry sources"})]}),(0,s.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-md border border-gray-700 p-4 mb-8",children:[(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-center space-y-4 lg:space-y-0",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 items-center",children:[(0,s.jsx)(o,{selectedRegion:w,onRegionChange:L}),(0,s.jsx)("div",{children:(0,s.jsxs)("select",{value:N,onChange:e=>{k(e.target.value),u(1)},className:"bg-gray-700 border border-gray-600 text-gray-300 text-sm rounded-lg focus:ring-cyan-500 focus:border-cyan-500 block w-full p-2.5",children:[(0,s.jsx)("option",{value:"",children:"All Sources"}),(0,s.jsx)("option",{value:"bisnow",children:"Bisnow"}),(0,s.jsx)("option",{value:"globest",children:"GlobeSt"})]})})]}),(0,s.jsx)("div",{className:"w-full sm:w-64 lg:w-72",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,s.jsx)("svg",{className:"w-4 h-4 text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})})}),(0,s.jsx)("input",{type:"search",className:"block w-full p-2.5 pl-10 text-sm border rounded-lg bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-cyan-500 focus:border-cyan-500",placeholder:"Search articles..."})]})})]}),(0,s.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-700 flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-400",children:["Showing ",e.length," of ",f," articles"]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("span",{className:"text-sm text-gray-400",children:"Sort by:"}),(0,s.jsxs)("select",{className:"bg-gray-700 border border-gray-600 text-gray-300 text-sm rounded-lg focus:ring-cyan-500 focus:border-cyan-500 block p-2",children:[(0,s.jsx)("option",{value:"date",children:"Newest First"}),(0,s.jsx)("option",{value:"source",children:"Source"}),(0,s.jsx)("option",{value:"region",children:"Region"})]})]})]})]}),(0,s.jsx)("div",{className:"space-y-10",children:E.map(e=>{let r=C[e];return(null==r?void 0:r.length)?(0,s.jsxs)("section",{className:"bg-gray-800 rounded-lg shadow-md border border-gray-700 p-6 mb-8",children:[(0,s.jsxs)("h2",{className:"text-2xl font-semibold mb-6 text-gray-200 flex items-center",children:[(0,s.jsx)("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-500 mr-3","aria-hidden":"true"}),e]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(e=>(0,s.jsx)(l,{article:e},e.url))})]},e):null})}),b>1&&(0,s.jsxs)("div",{className:"flex justify-center items-center space-x-4 mt-10 mb-8",children:[(0,s.jsxs)("button",{onClick:()=>u(e=>Math.max(1,e-1)),disabled:1===g,className:"px-5 py-2.5 bg-gray-800 border border-gray-700 text-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-700 hover:border-gray-600 transition-colors flex items-center",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Previous"]}),(0,s.jsxs)("span",{className:"px-3 py-2 rounded-md bg-cyan-900 text-cyan-200 border border-cyan-800 font-medium",children:["Page ",g," of ",b]}),(0,s.jsxs)("button",{onClick:()=>u(e=>Math.min(b,e+1)),disabled:g===b,className:"px-5 py-2.5 bg-gray-800 border border-gray-700 text-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-700 hover:border-gray-600 transition-colors flex items-center",children:["Next",(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})]}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-900",children:(0,s.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("header",{className:"mb-8 text-center py-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-500 to-cyan-400 bg-clip-text text-transparent mb-3",children:"CRE News Lite"}),(0,s.jsx)("p",{className:"text-gray-400 text-lg",children:"Latest commercial real estate news from top industry sources"})]}),(0,s.jsx)("div",{className:"flex items-center justify-center py-12 bg-gray-800 rounded-lg shadow-md border border-gray-700 p-8",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-gray-500 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})}),(0,s.jsx)("p",{className:"text-lg text-gray-300 font-semibold mb-2",children:"No Articles Found"}),(0,s.jsx)("p",{className:"text-gray-400",children:"There are currently no articles matching your filter criteria."}),(0,s.jsx)("button",{className:"mt-6 px-4 py-2 bg-cyan-600 text-white rounded-md hover:bg-cyan-700 transition-colors",onClick:()=>L("National"),children:"View National Articles"})]})})]})})}},9128:(e,r,t)=>{Promise.resolve().then(t.bind(t,8775))}},e=>{var r=r=>e(e.s=r);e.O(0,[874,441,684,358],()=>r(9128)),_N_E=e.O()}]);